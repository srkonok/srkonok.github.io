<!DOCTYPE html>
<html lang="pt-br">

<head>
  <title>Shahriar Rahman</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/style.css" type="text/css">
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/line-awesome/1.3.0/line-awesome/css/line-awesome.min.css">
  <link rel="stylesheet" class="alternate-style" title="pink" href="css/skins/pink.css" type="text/css">
  <link rel="stylesheet" class="alternate-style" title="blue" href="css/skins/blue.css" type="text/css" disabled>
  <link rel="stylesheet" class="alternate-style" title="green" href="css/skins/green.css" type="text/css" disabled>
  <link rel="stylesheet" class="alternate-style" title="orange" href="css/skins/orange.css" type="text/css" disabled>
  <link rel="stylesheet" class="alternate-style" title="yellow" href="css/skins/yellow.css" type="text/css" disabled>
  <link rel="stylesheet" href="css/styleSwitcher.css" type="text/css">
</head>

<body>
  <!-- Preloader -->
  <div class="preloader">
    <div class="loader"></div>
  </div>

  <!-- Main Container -->
  <div class="main-container">
    <!-- Aside Navigation -->
    <div class="aside">
      <div class="nav-toggler">
        <span></span>
      </div>
      <div class="aside-inner">
        <div class="logo">
          <a href="#">KONOK</a>
        </div>
        <ul class="nav">
          <li><a href="#home" class="active"><i class="fa fa-home"></i> Home</a></li>
          <li><a href="#about"><i class="fa fa-user"></i> About</a></li>
          <li><a href="#services"><i class="fa fa-list"></i> Skills</a></li>
          <li><a href="#portfolio"><i class="fa fa-briefcase"></i> Portfolio</a></li>
          <li><a href="#blog">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="3" y1="9" x2="21" y2="9"></line>
                <line x1="3" y1="15" x2="21" y2="15"></line>
              </svg> Blog</a></li>
          <li><a href="#contact"><i class="fa fa-comments"></i> Contact</a></li>
        </ul>
        <div class="copyright-text">
          &copy;<script>document.write(new Date().getFullYear());</script> Shahriar Rahman
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div id="main-content"></div>
  </div>

  <!-- Lightbox -->
  <div class="lightbox">
    <div class="lightbox-content">
      <div class="lightbox-close">&times;</div>
      <img src="" alt="" class="lightbox-img">
      <div class="lightbox-caption">
        <div class="caption-text"></div>
        <div class="caption-counter"></div>
      </div>
    </div>
    <div class="lightbox-controls">
      <div class="prev-item"><i class="fa fa-angle-left"></i></div>
      <div class="next-item"><i class="fa fa-angle-right"></i></div>
    </div>
  </div>

  <!-- Style Switcher -->
  <div class="style-switcher">
    <div class="toggle-style-switcher">
      <i class="fa fa-cog fa-spin"></i>
    </div>
    <h5>Style Switcher</h5>
    <ul>
      <li><a href="javascript:void(0);" title="pink" style="background-color: #ec1839;" onclick="setActiveStyle('pink')"></a></li>
      <li><a href="javascript:void(0);" title="blue" style="background-color: #2196f3;" onclick="setActiveStyle('blue')"></a></li>
      <li><a href="javascript:void(0);" title="orange" style="background-color: #fa5b0f;" onclick="setActiveStyle('orange')"></a></li>
      <li><a href="javascript:void(0);" title="yellow" style="background-color: #ffb400;" onclick="setActiveStyle('yellow')"></a></li>
      <li><a href="javascript:void(0);" title="green" style="background-color: #72b626;" onclick="setActiveStyle('green')"></a></li>
    </ul>
    <h5>Body Skin</h5>
    <label><input type="radio" class="body-skin" name="body-skin" value="light" checked> Light</label>
    <label><input type="radio" class="body-skin" name="body-skin" value="dark"> Dark</label>
  </div>

  <!-- Scripts -->
  <script src="js/ityped.min.js"></script>
  <script src="js/script.js"></script>
  <script src="js/styleSwitcher.js"></script>

  <script>
    (function () {
      const routes = {
        home: 'main.html',
        about: 'about.html',
        services: 'service.html',
        portfolio: 'portfolio.html',
        blog: 'blog.html',
        contact: 'contact.html'
      };

      const navLinks = document.querySelectorAll('.nav a');
      const mainContent = document.getElementById('main-content');
      const navToggler = document.querySelector('.nav-toggler');
      const aside = document.querySelector('.aside');

      // Portfolio Filter Functionality
      function initPortfolioFilter() {
        const filterButtons = document.querySelectorAll('.portfolio-filter button');
        const portfolioItems = document.querySelectorAll('.portfolio-item');

        function filterItems(category) {
          portfolioItems.forEach(item => {
            const show = category === 'all' || item.dataset.category === category;
            item.style.display = show ? 'block' : 'none';
          });
        }

        if (filterButtons.length) {
          filterButtons.forEach(button => {
            button.addEventListener('click', function() {
              filterButtons.forEach(btn => btn.classList.remove('active'));
              this.classList.add('active');
              filterItems(this.dataset.filter);
            });
          });
        }
      }

      // Load Section Content
      async function loadSection(section) {
        try {
          const response = await fetch(routes[section] || routes.home);
          const html = await response.text();
          mainContent.innerHTML = html;
          
          // Update active navigation
          navLinks.forEach(link => link.classList.remove('active'));
          const activeLink = document.querySelector(`.nav a[href="#${section}"]`);
          if (activeLink) activeLink.classList.add('active');

          // Initialize section-specific components
          if (section === 'portfolio') {
            initPortfolioFilter();
          }
          
          // Initialize iTyped for home section
          if (section === 'home' && typeof iTyped !== 'undefined') {
            new iTyped('.iTyped', {
              strings: ['Software Engineer', 'Cloud Practitioner', 'Full-Stack Developer'],
              loop: true,
              typeSpeed: 100,
              backSpeed: 50,
              backDelay: 2000
            });
          }

        } catch (error) {
          console.error('Error loading section:', error);
        }
      }

      // Navigation Handling
      function handleNavigation(section) {
        history.pushState({ section }, '', `#${section}`);
        loadSection(section);
        if (window.innerWidth <= 1199) aside.classList.remove('open');
      }

      // Event Listeners
      navToggler.addEventListener('click', () => aside.classList.toggle('open'));
      
      navLinks.forEach(link => {
        link.addEventListener('click', e => {
          e.preventDefault();
          handleNavigation(link.getAttribute('href').substring(1));
        });
      });

      window.addEventListener('popstate', (e) => {
        const section = e.state?.section || 'home';
        loadSection(section);
      });

      document.addEventListener('click', (e) => {
        if (window.innerWidth <= 1199 && !aside.contains(e.target) && !e.target.closest('.nav-toggler')) {
          aside.classList.remove('open');
        }
      });

      window.addEventListener('resize', () => {
        if (window.innerWidth > 1199) aside.classList.remove('open');
      });

      // Initial Load
      window.addEventListener('DOMContentLoaded', () => {
        const initialSection = window.location.hash.substring(1) || 'home';
        loadSection(initialSection);
      });
    })();
  </script>
</body>
</html>